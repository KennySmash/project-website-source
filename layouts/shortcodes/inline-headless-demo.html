<div class="inline-demo">
  <style>
    #toolbar, .a9s-toolbar, .tag-selector, .tag-selector ul, .tag-selector li {
      display:inline;
    }

    .toolbar-wrapper {
      display: flex;
      align-items: center;
    }

    .toolbar-wrapper ul {
      padding:0;
      margin:0;
    }

    .toolbar-wrapper .tag-selector button {
      outline:none;
      border:none;
      height:45px;
      vertical-align:middle;
      margin-right:8px;
      padding:0 14px;
      border-radius:4px;
      cursor:pointer;
    }

    .toolbar-wrapper .tag-selector .green button {
      background-color:rgba(0, 212, 0, 0.1);
    }

    .toolbar-wrapper .tag-selector .orange button {
      background-color:rgba(255, 180, 0, 0.1);
    }

    .toolbar-wrapper .tag-selector .green.active button {
      color:#fff;
      background-color:green;
    }

    .toolbar-wrapper .tag-selector .orange.active button {
      color:#fff;
      background-color:orange
    }

    .a9s-annotationlayer .a9s-annotation .a9s-inner,
    .a9s-annotationlayer .a9s-selection .a9s-inner {
      stroke-width:4px;
      stroke:#fff;  
    }

    .a9s-annotationlayer .a9s-annotation .a9s-outer, 
    .a9s-annotationlayer .a9s-selection .a9s-outer {
      stroke-width:0;  
    }

    .a9s-annotation.GREEN .a9s-inner,
    .a9s-annotation.GREEN.editable.selected .a9s-inner 
    .a9s-annotation.GREEN .a9s-inner:hover  {
      stroke:green !important;
    }

    .a9s-annotation.ORANGE .a9s-inner,
    .a9s-annotation.ORANGE.editable.selected .a9s-inner,
    .a9s-annotation.ORANGE .a9s-inner:hover  {
      stroke:orange !important;
    }
  </style>
  <div class="toolbar-wrapper">
    <div id="toolbar"></div>
    <ul class="tag-selector">
      <li id="btn-green" class="green active"><button>Green</button></li>
      <li id="btn-orange" class="orange"><button>Orange</button></li>
    </ul>
  </div>
  <img id="hallstatt" src="/images/640px-Hallstatt.jpg">
  <p class="image-caption">
    Sample image source: <a href="http://commons.wikimedia.org/wiki/File:Hallstatt_300.jpg">Hallstatt,
    Austria</a>, by Nick Csakany/Wikimedia Commons. Public Domain.
  </p>
</div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@recogito/annotorious@latest/dist/annotorious.min.css">
<script src="https://cdn.jsdelivr.net/npm/@recogito/annotorious@latest/dist/annotorious.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@recogito/annotorious-toolbar@latest/dist/annotorious-toolbar.min.js"></script>
<script>
  window.onload = function() {
    var btnOrange = document.getElementById('btn-orange'),
        btnGreen = document.getElementById('btn-green');

    var active = 'GREEN';

    btnOrange.addEventListener('click', function() {
      active = 'ORANGE';
      btnOrange.className = 'orange active';
      btnGreen.className = 'green';
    });

    var formatter = function(annotation) {
      var highlightBody = annotation.bodies.find(function(b) {
        return b.purpose == 'highlighting';
      });

      if (highlightBody)
        return highlightBody.value;
    };

    btnGreen.addEventListener('click', function() {
      active = 'GREEN';
      btnOrange.className = 'orange';
      btnGreen.className = 'green active';
    });

    var anno = Annotorious.init({
      image: 'hallstatt',
      allowEmpty: true,
      disableEditor: true,
      formatter: formatter
    });

    anno.on('createSelection', function(selection) {
      selection.body = {
        value: active,
        purpose: 'highlighting'
      };

      anno.updateSelected(selection, true);
    });

    Annotorious.Toolbar(anno, document.getElementById('toolbar'));
  }
</script>